<?php

/*
|--------------------------------------------------------------------------
| Show All Errors
|--------------------------------------------------------------------------
|
*/

ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);

/*
|--------------------------------------------------------------------------
| Start Sessions
|--------------------------------------------------------------------------
|
*/

session_start();

/*
|--------------------------------------------------------------------------
| Import Namespaces
|--------------------------------------------------------------------------
|
*/

use Bramus\Router\Router;
use Vertex\Core\Database;
use Vertex\Core\Config;
use Dotenv\Dotenv;

/*
|--------------------------------------------------------------------------
| Load Vendor Code
|--------------------------------------------------------------------------
|
*/

require __DIR__.'/../../vendor/autoload.php';

/*
|--------------------------------------------------------------------------
| Load Enviroment Variables
|--------------------------------------------------------------------------
|
*/

(new Dotenv(__DIR__.'/../..'))->load();

/*
|--------------------------------------------------------------------------
| Connect to the Database
|--------------------------------------------------------------------------
|
*/

// $database = (new Database)->connection(
// 	Config::get('database')
// );

/*
|--------------------------------------------------------------------------
| Load Routes
|--------------------------------------------------------------------------
|
| Include all the specified routes for the application
|
*/

$route = new Router();
require __DIR__.'/../routes.php';
$route->run();
